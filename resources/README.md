# Workshop Resources - Azure Infrastructure Setup

This directory contains all scripts, templates, and configuration files needed to execute the "AI-Powered DevOps" workshop exercises.

## üìã Overview

The provided resources allow participants to quickly create the necessary Azure infrastructure for hands-on workshop exercises, including:

- **SQL Server Database** for security exercises
- **Azure AI Services** for AI integration
- **Application Insights** for monitoring
- **Key Vault** for secure secrets management
- **Storage Account** for file storage
- **CI/CD Templates** for Azure DevOps and GitHub Actions

## üöÄ Quick Start

### Prerequisites

- Active Azure account
- Azure CLI or Azure PowerShell installed
- Permissions to create resources in the subscription

### Quick Setup

1. **Clone the repository:**
   ```bash
   git clone <repository-url>
   cd Code-AI-Dev/resources
   ```

2. **Run the setup script:**
   
   **Linux/macOS:**
   ```bash
   chmod +x setup-azure-infrastructure.sh
   ./setup-azure-infrastructure.sh
   ```
   
   **Windows (PowerShell):**
   ```powershell
   .\setup-azure-infrastructure.ps1
   ```

3. **Configure environment variables:**
   ```bash
   source workshop-config.env
   ```

4. **Start the workshop exercises!**

## üìÅ File Structure

### Infrastructure Scripts

| File | Description |
|------|-------------|
| `setup-azure-infrastructure.sh` | Bash script to create Azure resources (Linux/macOS) |
| `setup-azure-infrastructure.ps1` | PowerShell script to create Azure resources (Windows) |
| `cleanup-azure-infrastructure.sh` | Script to remove all created resources |

### CI/CD Templates

| File | Description |
|------|-------------|
| `azure-devops-pipeline.yml` | Complete pipeline for Azure DevOps |
| `github-actions-workflow.yml` | Workflow for GitHub Actions |

### Code Templates

| File | Description |
|------|-------------|
| `DatabaseConnection.cs` | C# class for secure database connection |
| `DatabaseConnection.java` | Java class for secure database connection |
| `appsettings.json` | Configuration for .NET applications |
| `application.properties` | Configuration for Java/Spring applications |

### Other Files

| File | Description |
|------|-------------|
| `multi_agent_orchestrator.py` | Multi-agent orchestration system |
| `workshop-config.env` | Environment variables (generated by script) |
| `init-database.sql` | Database initialization script (generated by script) |

## ü§ñ AI Development Workshop Resources

### Core AI Development Resources

| File | Description | Key Topics |
|------|-------------|------------|
| `github-copilot-workflows.md` | Practical workflows for GitHub Copilot | Basic code generation, TDD, refactoring, security enhancement, API integration, architecture patterns, code review, automation |
| `prompt-engineering-templates.md` | Effective GitHub Copilot prompts | Core patterns, specific use cases, advanced techniques, quality checklists |
| `code-optimization-examples.md` | Performance optimization demonstrations | 10-100x improvements, security enhancements, memory management, algorithm optimization |
| `ai-agent-templates.md` | Complete AI agent implementations | Code review agents, performance optimization, security scanning, test generation, multi-agent orchestration |
| `ai-testing-templates.md` | Comprehensive testing templates | Unit testing, property-based testing, integration testing, E2E testing, AI-powered test data generation, load testing |
| `security-scanning-templates.md` | Security analysis templates | Static analysis, dependency scanning, container security, runtime protection (RASP), automated security test generation |
| `ai-documentation-templates.md` | AI-powered documentation generation | API documentation, code documentation, architecture documentation, user guides |

### üéØ How to Use AI Development Resources

1. **Start with Workflows**: Begin with `github-copilot-workflows.md` to understand practical AI-assisted development patterns
2. **Master Prompts**: Use `prompt-engineering-templates.md` to write effective prompts for AI tools
3. **Apply Optimizations**: Reference `code-optimization-examples.md` for real-world optimization scenarios
4. **Implement Agents**: Use `ai-agent-templates.md` to build autonomous development agents
5. **Enhance Testing**: Apply templates from `ai-testing-templates.md` for comprehensive test coverage
6. **Secure Your Code**: Implement security scanning using `security-scanning-templates.md`
7. **Document Everything**: Generate documentation with `ai-documentation-templates.md`

### üìö Workshop Learning Path

1. **Beginner Path**:
   - Start with basic GitHub Copilot workflows
   - Practice prompt engineering templates
   - Try simple code optimization examples

2. **Intermediate Path**:
   - Implement AI testing templates
   - Build basic AI agents
   - Apply security scanning to existing code

3. **Advanced Path**:
   - Create multi-agent orchestration systems
   - Implement RASP and advanced security
   - Build custom AI development pipelines

## ‚öôÔ∏è Detailed Configuration

### 1. Azure Resources Created

The setup script creates the following resources with standardized naming:

- **Resource Group**: `aidevops-workshop-rg`
- **SQL Server**: `aidevops-sql-server-[timestamp]`
- **SQL Database**: `aidevops-workshop-db`
- **Application Insights**: `aidevops-appinsights`
- **AI Services**: `aidevops-ai-services`
- **Storage Account**: `aidevopsstorage[timestamp]`
- **Key Vault**: `aidevops-keyvault-[timestamp]`

### 2. Default Settings

#### Database Credentials
- **Username**: `workshopadmin`
- **Password**: `Workshop2024!`
- **Location**: `East US`

#### Security Settings
- SSL/TLS enabled by default
- Firewall configured for Azure Services
- Current client IP automatically included
- Secrets stored in Key Vault

### 3. Database Structure

The script automatically creates:

```sql
-- Table for security exercises
CREATE TABLE users (
    id INT IDENTITY(1,1) PRIMARY KEY,
    username NVARCHAR(50) NOT NULL UNIQUE,
    email NVARCHAR(100) NOT NULL,
    password_hash NVARCHAR(255) NOT NULL,
    created_date DATETIME2 DEFAULT GETDATE(),
    last_login DATETIME2 NULL,
    is_active BIT DEFAULT 1
);

-- Sample data inserted automatically
```

## üîß Customization

### Modify Default Settings

Edit the variables at the beginning of scripts to customize:

```bash
# setup-azure-infrastructure.sh
WORKSHOP_PREFIX="your-prefix"
LOCATION="your-region"
SQL_ADMIN_PASSWORD="your-secure-password"
```

### Project-Specific Settings

Modify configuration files as needed:

- **appsettings.json**: For .NET applications
- **application.properties**: For Java/Spring applications

## üö® Security Exercises

### SQL Injection Prevention

Templates include secure and vulnerable examples for demonstration:

**‚ùå Vulnerable Code (for demonstration):**
```csharp
string query = $"SELECT * FROM users WHERE username = '{username}'";
```

**‚úÖ Secure Code (for use):**
```csharp
string query = "SELECT * FROM users WHERE username = @username";
command.Parameters.AddWithValue("@username", username);
```

## üìä Monitoring and AI

### Application Insights

Automatically configured to monitor:
- Application performance
- Errors and exceptions
- Custom metrics
- Usage analytics

### Azure AI Services

Ready integration for:
- AI-powered code analysis
- Anomaly detection
- Performance optimization
- Predictive security

## üîÑ CI/CD Templates

### Azure DevOps Pipeline

Includes stages for:
- Build and tests
- AI-powered security analysis
- Development deployment
- Production deployment
- Continuous monitoring

### GitHub Actions Workflow

Includes jobs for:
- Build and tests with AI assistance
- Automated AI code review
- Azure deployment
- Post-deployment monitoring

## üßπ Resource Cleanup

**IMPORTANT**: To avoid unnecessary costs, always run the cleanup script after the workshop:

```bash
./cleanup-azure-infrastructure.sh
```

This script removes **ALL** resources created by the workshop.

## üîê Security

### Implemented Best Practices

- ‚úÖ Secure passwords with adequate complexity
- ‚úÖ SSL/TLS enabled by default
- ‚úÖ Restrictively configured firewall
- ‚úÖ Secrets stored in Key Vault
- ‚úÖ Parameterized connections in examples
- ‚úÖ Input validation implemented

### For Production

**‚ö†Ô∏è NEVER use in production without modifying:**
- Default passwords
- Firewall settings
- Example keys
- Development configurations

## üÜò Troubleshooting

### Error: "Insufficient permissions"
- Verify you have Contributor permissions on the subscription
- Confirm you're logged in with the correct account

### Error: "Resource name already exists"
- Names include timestamp to avoid conflicts
- If conflicts persist, modify the WORKSHOP_PREFIX

### Error: "Region not available"
- Some services aren't available in all regions
- Use "East US" as default (tested and functional)

### Error: "Database connection failed"
- Verify firewall is configured correctly
- Confirm current IP is in firewall rules
- Wait a few minutes after resource creation

## üí° Workshop Tips

1. **Run setup in advance** - Resource creation can take 10-15 minutes
2. **Keep the configuration file** - Contains all necessary information
3. **Use Key Vault** - To access secrets securely
4. **Monitor costs** - Set up billing alerts if necessary
5. **Document modifications** - To facilitate troubleshooting

## üìû Support

For questions or issues:
1. Check script execution logs
2. Review Azure documentation
3. Use the workshop troubleshooting guide
4. Contact the workshop instructor

---

**Version**: 1.0  
**Last updated**: January 2024  
**Compatibility**: Azure CLI 2.0+, PowerShell 5.1+